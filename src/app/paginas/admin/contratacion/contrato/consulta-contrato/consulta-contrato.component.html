<div class="container mx-auto mt-10">
  <div class="bg-white p-8 rounded-lg shadow-md">
    <h2 class="text-2xl font-bold text-orange-600 mb-4">Contratos</h2>
    <hr class="bg-orange-600 h-1 mb-6" />

    <!-- Formulario de Filtros -->
    <div class="mb-6">
      <form
        (ngSubmit)="applyFilters()"
        class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"
      >
        <!-- Área -->
        <div>
          <label for="area" class="block text-sm font-medium text-gray-700"
            >Área</label
          >
          <select
            [(ngModel)]="filters.area"
            name="area"
            class="w-full h-10 rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"
          >
            <option value="">Selecciona un área</option>
            <option *ngFor="let area of areas" [value]="area.id_area">
              {{ area.area }}
            </option>
          </select>
        </div>

        <!-- Estado -->
        <div>
          <label for="estado" class="block text-sm font-medium text-gray-700"
            >Estado</label
          >
          <select
            [(ngModel)]="filters.estado_contrato"
            name="estado_contrato"
            class="w-full h-10 rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"
          >
            <option value="">Selecciona un estado</option>
            <option
              *ngFor="let estado of estadosContrato"
              [value]="estado.id_estado_contrato"
            >
              {{ estado.estado_contrato }}
            </option>
          </select>
        </div>

        <!-- Trabajador -->
        <div>
          <label
            for="trabajador"
            class="block text-sm font-medium text-gray-700"
            >Trabajador</label
          >
          <select
            [(ngModel)]="filters.trabajador"
            name="trabajador"
            class="w-full h-10 rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"
          >
            <option value="">Selecciona un trabajador</option>
            <option
              *ngFor="let trabajador of trabajadores"
              [value]="trabajador.id_trabajador"
            >
              {{ trabajador.paterno }} {{ trabajador.materno }}
            </option>
          </select>
        </div>

        <!-- Tipo de Contrato -->
        <div>
          <label
            for="tipoContrato"
            class="block text-sm font-medium text-gray-700"
            >Tipo de Contrato</label
          >
          <select
            [(ngModel)]="filters.tipo_contrato"
            name="tipo_contrato"
            class="w-full h-10 rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"
          >
            <option value="">Selecciona un tipo de contrato</option>
            <option
              *ngFor="let tipo of tiposContrato"
              [value]="tipo.id_tipo_contrato"
            >
              {{ tipo.tipo_contrato }}
            </option>
          </select>
        </div>

        <!-- Botón de Aplicar Filtros -->
        <div class="col-span-full mt-4">
          <button
            type="submit"
            class="px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700"
          >
            Aplicar Filtros
          </button>
        </div>

        <div class="flex items-center justify-between mb-4">
          <a
            routerLink="/admin/contratacion/contrato/regimen-laboral"
            class="px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700"
          >
            Nuevo Contrato
          </a>
        </div>
      </form>
    </div>

    <!-- Tabla de Contratos -->
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white rounded-lg shadow-md">
        <thead>
          <tr class="bg-gray-200 text-gray-700">
            <th class="py-3 px-4 text-left">Trabajador</th>
            <th class="py-3 px-4 text-left">Área</th>
            <th class="py-3 px-4 text-left">Cargo</th>
            <th class="py-3 px-4 text-left">Fecha de Inicio</th>
            <th class="py-3 px-4 text-left">Vencimiento</th>
            <th class="py-3 px-4 text-left">Vigencia</th>
            <th class="py-3 px-4 text-left">Ver</th>
            <th class="py-3 px-4 text-left">Descargar</th>
            <th class="py-3 px-4 text-left">Adjuntar</th>
            <th class="py-3 px-4 text-left">Mail</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let contrato of contratos" class="border-b">
            <td class="py-3 px-4">
              {{ contrato.trabajador?.paterno }}
              {{ contrato.trabajador?.materno }}
            </td>
            <td class="py-3 px-4">{{ contrato.trabajador?.area?.area }}</td>
            <td class="py-3 px-4">{{ contrato.cargo?.cargo }}</td>
            <td class="py-3 px-4">{{ contrato.fecha_inicio }}</td>
            <td class="py-3 px-4">
              {{ contrato.fecha_fin || "Indefinido" }}
            </td>
            <td class="py-3 px-4">
              <span class="inline-block w-3 h-3 rounded-full"></span>
            </td>
            <td class="py-3 px-4">
              <a href="#" class="text-blue-600 hover:underline">Ver</a>
            </td>
            <td class="py-3 px-4">
              <img
                src="assets/images/icons/descargar.png"
                class="w-6"
                alt="Descargar"
              />
            </td>
            <td class="py-3 px-4">
              <img
                src="assets/images/icons/adjuntar-azul.png"
                class="w-6 cursor-pointer"
                alt="Adjuntar"
              />
            </td>
            <td class="py-3 px-4">
              <img
                src="assets/images/icons/email.png"
                class="w-6 cursor-pointer"
                alt="Enviar Mail"
              />
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Paginación -->
  </div>
</div>
